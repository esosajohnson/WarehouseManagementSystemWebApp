@page
@model WarehouseManagementSystem.Areas.Identity.Pages.Account.Manage.SecurityModel

@{
    ViewData["Title"] = "Security Settings";
}

<h3 class="text-primary fw-semibold mb-4">@ViewData["Title"]</h3>

<partial name="_StatusMessage" for="StatusMessage" />

<div class="card shadow-sm mb-4">
    <div class="card-body">
        <h4>Two-Factor Authentication</h4>
        <p>
            Two-factor authentication adds an extra layer of security to your account.
        </p>

        @if (Model.Is2faEnabled)
        {
            <p><strong>Status:</strong> Enabled ✅</p>
            <form method="post" asp-page-handler="Disable2fa">
                <button type="submit" class="btn btn-outline-danger">Disable 2FA</button>
            </form>
        }
        else
        {
            <p><strong>Status:</strong> Disabled ❌</p>
            <a asp-page="./EnableAuthenticator" class="btn btn-primary">Enable 2FA</a>
        }
    </div>
</div>

<div class="card shadow-sm">
    <div class="card-body">
        <h4>Personal Data</h4>
        <p>
            You can download or delete your personal data from your account.
        </p>

        <a asp-page="./DownloadPersonalData" class="btn btn-outline-primary me-2">Download Data</a>
        <a asp-page="./DeletePersonalData" class="btn btn-outline-danger">Delete Account</a>
    </div>
</div>
